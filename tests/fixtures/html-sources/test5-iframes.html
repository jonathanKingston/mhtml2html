<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Test 5: Nested Iframes</title>
  <style>
    :root {
      --bg: #0f0f0f;
      --surface: #1a1a1a;
      --border: #2a2a2a;
      --text: #fafafa;
      --muted: #737373;
      --accent: #f97316;
    }
    
    * { margin: 0; padding: 0; box-sizing: border-box; }
    
    body {
      font-family: system-ui, sans-serif;
      background: var(--bg);
      color: var(--text);
      min-height: 100vh;
      padding: 3rem;
    }
    
    h1 {
      font-size: 2rem;
      margin-bottom: 0.5rem;
    }
    
    .subtitle {
      color: var(--muted);
      margin-bottom: 3rem;
    }
    
    .iframe-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
      gap: 2rem;
    }
    
    .iframe-container {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 1rem;
      overflow: hidden;
    }
    
    .iframe-header {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      padding: 1rem;
      background: #222;
      border-bottom: 1px solid var(--border);
    }
    
    .iframe-header .dots {
      display: flex;
      gap: 6px;
    }
    
    .iframe-header .dot {
      width: 12px;
      height: 12px;
      border-radius: 50%;
    }
    
    .dot.red { background: #ef4444; }
    .dot.yellow { background: #eab308; }
    .dot.green { background: #22c55e; }
    
    .iframe-title {
      flex: 1;
      text-align: center;
      font-size: 0.75rem;
      color: var(--muted);
      font-family: monospace;
    }
    
    .iframe-wrapper {
      height: 300px;
      background: var(--bg);
    }
    
    .iframe-wrapper iframe {
      width: 100%;
      height: 100%;
      border: none;
    }
    
    .iframe-info {
      padding: 1rem;
      font-size: 0.75rem;
      color: var(--muted);
      border-top: 1px solid var(--border);
    }
    
    .iframe-info code {
      background: var(--bg);
      padding: 0.125rem 0.375rem;
      border-radius: 4px;
      font-family: monospace;
      color: var(--accent);
    }
    
    /* Srcdoc iframe styling */
    .srcdoc-demo {
      padding: 2rem;
      background: linear-gradient(135deg, #1e1b4b 0%, #312e81 100%);
      color: white;
      height: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      font-family: system-ui, sans-serif;
    }
    
    /* Data URI section */
    .test-section {
      margin-top: 3rem;
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 1rem;
      padding: 2rem;
    }
    
    .test-section h2 {
      font-size: 1rem;
      margin-bottom: 1rem;
      color: var(--accent);
    }
    
    .sandboxed-frame {
      width: 100%;
      height: 200px;
      border: 2px dashed var(--border);
      border-radius: 0.5rem;
    }
  </style>
</head>
<body>
  <h1>Test 5: Nested Iframes</h1>
  <p class="subtitle">Testing iframe embedding with various source types and sandbox attributes</p>
  
  <div class="iframe-grid">
    <!-- Standard iframe with local file -->
    <div class="iframe-container">
      <div class="iframe-header">
        <div class="dots">
          <div class="dot red"></div>
          <div class="dot yellow"></div>
          <div class="dot green"></div>
        </div>
        <div class="iframe-title">iframe-content-a.html</div>
      </div>
      <div class="iframe-wrapper">
        <iframe src="iframe-content-a.html" title="Iframe A"></iframe>
      </div>
      <div class="iframe-info">
        Standard iframe with <code>src</code> attribute pointing to local file
      </div>
    </div>
    
    <!-- Iframe with external CSS -->
    <div class="iframe-container">
      <div class="iframe-header">
        <div class="dots">
          <div class="dot red"></div>
          <div class="dot yellow"></div>
          <div class="dot green"></div>
        </div>
        <div class="iframe-title">iframe-content-b.html</div>
      </div>
      <div class="iframe-wrapper">
        <iframe src="iframe-content-b.html" title="Iframe B"></iframe>
      </div>
      <div class="iframe-info">
        Iframe document loads <code>external CSS</code> stylesheet
      </div>
    </div>
    
    <!-- Srcdoc iframe -->
    <div class="iframe-container">
      <div class="iframe-header">
        <div class="dots">
          <div class="dot red"></div>
          <div class="dot yellow"></div>
          <div class="dot green"></div>
        </div>
        <div class="iframe-title">srcdoc inline content</div>
      </div>
      <div class="iframe-wrapper">
        <iframe srcdoc="
          <!DOCTYPE html>
          <html>
          <head>
            <style>
              * { margin: 0; padding: 0; box-sizing: border-box; }
              body {
                font-family: system-ui, sans-serif;
                background: linear-gradient(135deg, #1e1b4b 0%, #312e81 100%);
                color: white;
                min-height: 100vh;
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                text-align: center;
                padding: 2rem;
              }
              .icon { font-size: 2rem; margin-bottom: 1rem; }
              h1 { font-size: 1.25rem; margin-bottom: 0.5rem; }
              p { color: #a5b4fc; font-size: 0.875rem; }
              .tag {
                background: rgba(165, 180, 252, 0.2);
                color: #a5b4fc;
                padding: 0.25rem 0.75rem;
                border-radius: 9999px;
                font-size: 0.75rem;
                margin-top: 1rem;
              }
            </style>
          </head>
          <body>
            <div class='icon'>ðŸ“„</div>
            <h1>Inline Document</h1>
            <p>Content defined via srcdoc attribute</p>
            <span class='tag'>srcdoc</span>
          </body>
          </html>
        " title="Srcdoc iframe"></iframe>
      </div>
      <div class="iframe-info">
        Inline HTML content via <code>srcdoc</code> attribute
      </div>
    </div>
    
    <!-- Data URI iframe -->
    <div class="iframe-container">
      <div class="iframe-header">
        <div class="dots">
          <div class="dot red"></div>
          <div class="dot yellow"></div>
          <div class="dot green"></div>
        </div>
        <div class="iframe-title">data: URI content</div>
      </div>
      <div class="iframe-wrapper">
        <iframe src="data:text/html;charset=utf-8,<!DOCTYPE html><html><head><style>*{margin:0;padding:0;box-sizing:border-box}body{font-family:system-ui,sans-serif;background:linear-gradient(135deg,%23064e3b,%23065f46);color:white;min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:2rem}.icon{font-size:2rem;margin-bottom:1rem}h1{font-size:1.25rem;margin-bottom:0.5rem}p{color:%2386efac;font-size:0.875rem}.tag{background:rgba(134,239,172,0.2);color:%2386efac;padding:0.25rem 0.75rem;border-radius:9999px;font-size:0.75rem;margin-top:1rem}</style></head><body><div class='icon'>ðŸ”—</div><h1>Data URI Document</h1><p>Embedded via data: protocol</p><span class='tag'>data:text/html</span></body></html>" title="Data URI iframe"></iframe>
      </div>
      <div class="iframe-info">
        Content embedded as <code>data:</code> URI scheme
      </div>
    </div>
  </div>
  
  <!-- Sandboxed iframe test -->
  <div class="test-section">
    <h2>Sandboxed Iframe</h2>
    <p style="color: var(--muted); margin-bottom: 1rem; font-size: 0.875rem;">
      Testing iframe with <code>sandbox</code> attribute restrictions
    </p>
    <iframe 
      class="sandboxed-frame"
      sandbox="allow-scripts"
      srcdoc="
        <!DOCTYPE html>
        <html>
        <head>
          <style>
            body {
              font-family: system-ui, sans-serif;
              background: #18181b;
              color: white;
              margin: 0;
              padding: 2rem;
              display: flex;
              align-items: center;
              justify-content: center;
              min-height: 100vh;
            }
            .sandbox-info {
              background: #27272a;
              padding: 1.5rem;
              border-radius: 0.75rem;
              text-align: center;
            }
            .sandbox-info h3 {
              color: #fbbf24;
              margin-bottom: 0.5rem;
            }
            .sandbox-info p {
              color: #a1a1aa;
              font-size: 0.875rem;
            }
            .attr {
              display: inline-block;
              background: #3f3f46;
              padding: 0.25rem 0.5rem;
              border-radius: 4px;
              font-family: monospace;
              font-size: 0.75rem;
              color: #fbbf24;
              margin-top: 0.75rem;
            }
          </style>
        </head>
        <body>
          <div class='sandbox-info'>
            <h3>ðŸ”’ Sandboxed Frame</h3>
            <p>This iframe has restricted capabilities</p>
            <span class='attr'>sandbox='allow-scripts'</span>
          </div>
        </body>
        </html>
      "
      title="Sandboxed iframe"
    ></iframe>
  </div>
</body>
</html>
